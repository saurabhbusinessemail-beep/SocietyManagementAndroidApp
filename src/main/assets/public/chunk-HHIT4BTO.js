import{a as p,b as u,n as l}from"./chunk-3KFWOHV6.js";import{U as a,Z as h}from"./chunk-WBOKHTJO.js";var b=(()=>{class i{constructor(t){this.http=t,this.baseUrl=`${l.apiBaseUrl}/societies`,this.flatsBaseUrl=`${l.apiBaseUrl}/flats`}convertFlatMemberToDropdownOption(t,e){let s=t.flatId&&typeof t.flatId!="string"&&t.flatId.buildingId&&typeof t.flatId.buildingId!="string"?t.flatId.buildingId.buildingNumber+": ":"",r=!e&&t.societyId&&typeof t.societyId!="string"?"-"+t.societyId.societyName:"",n=typeof t.flatId=="string"?"No Flat Number":t.flatId.floor+":"+t.flatId.flatNumber;return{label:s+n+r,value:typeof t.flatId=="string"?"":t.flatId._id}}convertFlatToDropdownOption(t,e){let s=t.buildingId&&typeof t.buildingId!="string"?t.buildingId.buildingNumber+": ":"",r=!e&&t.societyId&&typeof t.societyId!="string"?"-"+t.societyId.societyName:"",n=t.floor+":"+t.flatNumber;return{label:s+n+r,value:t._id}}createSociety(t){return this.http.post(this.baseUrl,t)}getAllSocieties(){return this.http.get(this.baseUrl)}getSociety(t){return this.http.get(`${this.baseUrl}/${t}`)}updateSociety(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}deleteSociety(t){return this.http.delete(`${this.baseUrl}/${t}`)}searchSocieties(t,e=1,s=20){let r=new p().set("q",t).set("page",e).set("limit",s);return this.http.get(`${this.baseUrl}/search`,{params:r})}newManager(t,e){return this.http.post(`${this.baseUrl}/${t}/managers`,e)}deleteManager(t,e){return this.http.delete(`${this.baseUrl}/${t}/managers/${e}`)}getBuilding(t,e){return this.http.get(`${this.baseUrl}/${t}/buildings/${e}`)}getBuildings(t){return this.http.get(`${this.baseUrl}/${t}/buildings`)}newBuilding(t,e){return this.http.post(`${this.baseUrl}/${t}/buildings`,e)}updateBuilding(t,e,s){return this.http.put(`${this.baseUrl}/${t}/buildings/${e}`,s)}deleteBuilding(t,e){return this.http.delete(`${this.baseUrl}/${t}/buildings/${e}`)}getFlat(t){return this.http.get(`${this.flatsBaseUrl}/get/${t}`)}getFlats(t,e){return e?this.http.get(`${this.baseUrl}/${t}/buildings/${e}/flats`):this.http.get(`${this.baseUrl}/${t}/flats`)}newFlat(t,e){return this.http.post(`${this.baseUrl}/${t}/flats`,e)}newFlats(t,e){return this.http.post(`${this.baseUrl}/${t}/flats/bulk`,e)}deleteFlat(t,e){return this.http.delete(`${this.baseUrl}/${t}/flats/${e}`)}myFlats(t){return t?this.http.get(`${this.flatsBaseUrl}/${t}/myFlats`):this.http.get(`${this.flatsBaseUrl}/myFlats`)}getFlatMemberDetails(t){return this.http.get(`${this.flatsBaseUrl}/myFlats/${t}`)}getParkings(t,e){return e?this.http.get(`${this.baseUrl}/${t}/buildings/${e}/parkings`):this.http.get(`${this.baseUrl}/${t}/parkings`)}newParking(t,e){return this.http.post(`${this.baseUrl}/${t}/parkings`,e)}newParkings(t,e){return this.http.post(`${this.baseUrl}/${t}/parkings/bulk`,e)}updateParking(t,e,s){return this.http.put(`${this.baseUrl}/${t}/parkings/${e}`,s)}deleteParking(t,e){return this.http.delete(`${this.baseUrl}/${t}/parkings/${e}`)}static{this.\u0275fac=function(e){return new(e||i)(h(u))}}static{this.\u0275prov=a({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{b as a};
