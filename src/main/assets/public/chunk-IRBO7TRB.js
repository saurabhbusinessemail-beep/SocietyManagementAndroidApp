import{a as m}from"./chunk-TEVHCJ6T.js";import{$a as c,U as s,Z as r}from"./chunk-WBOKHTJO.js";import{d as a}from"./chunk-OQV6BHXQ.js";import{f as n}from"./chunk-CWTPBX7D.js";var i=a("PushNotifications",{});var h=(()=>{class o{get fcmToken(){return localStorage.getItem("fcmToken")??void 0}set fcmToken(e){e?localStorage.setItem("fcmToken",e):localStorage.removeItem("fcmToken")}constructor(e,t){this.dialogService=e,this.zone=t}init(){return n(this,null,function*(){(yield i.requestPermissions()).receive==="granted"&&(yield i.register(),i.addListener("registration",t=>{this.fcmToken=t.value,setTimeout(()=>{this.zone.run(()=>{console.log("FCM Token:",this.fcmToken)})},500)}),i.addListener("pushNotificationActionPerformed",t=>{this.zone.run(()=>{})}))})}static{this.\u0275fac=function(t){return new(t||o)(r(m),r(c))}}static{this.\u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{h as a};
