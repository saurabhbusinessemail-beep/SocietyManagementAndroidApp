import{a as S}from"./chunk-HHIT4BTO.js";import{B as H,C as J,b as x,c as I,n as F,v as z,z as G}from"./chunk-DMHEENG2.js";import{i as b,k as _,m as D,oa as $,pa as q}from"./chunk-3KFWOHV6.js";import{Ab as A,Cb as u,E as p,Ec as k,Fc as U,Lb as m,Lc as V,Nb as f,Ob as P,Sa as o,Ta as d,Ub as g,V as y,da as C,ea as h,hb as T,jb as l,ma as j,na as R,rb as s,sb as a,tb as w,ub as M,vb as v,xb as B}from"./chunk-WBOKHTJO.js";import"./chunk-OQV6BHXQ.js";import"./chunk-CWTPBX7D.js";function et(i,L){if(i&1&&(s(0,"div",5)(1,"span")(2,"strong"),m(3,"Building:"),a(),m(4),a()()),i&2){let e,t=u().$implicit,n=u();o(4),f(" ",(e=n.getBuilding(t))==null?null:e.buildingNumber," ")}}function it(i,L){if(i&1){let e=B();M(0),s(1,"ui-card",2),M(2,3),s(3,"a",4),A("click",function(){let n=j(e).$implicit,r=u();return R(r.gotoFlatDetails(n))}),m(4),a(),s(5,"div",5)(6,"span")(7,"strong"),m(8,"Society:"),a(),m(9),a()(),T(10,et,5,1,"div",6),s(11,"div",7)(12,"span")(13,"strong"),m(14,"Residing:"),a(),m(15),a()(),v(),M(16,8),m(17),v(),a(),v()}if(i&2){let e,t,n,r=L.$implicit,c=u();o(),l("smColumns",12)("mdColumns",6)("lgColumns",6),o(3),P(" ",(e=c.getflat(r))==null?null:e.floor,": ",(e=c.getflat(r))==null?null:e.flatNumber," "),o(5),f(" ",(t=c.getSociety(r))==null?null:t.societyName," "),o(),l("ngIf",c.hasBuilding(r)),o(5),f(" ",r.residingType," "),o(2),f(" ",(n=c.getflat(r))==null?null:n.flatType," ")}}var N=(()=>{class i{get pageTitle(){return(this.society?this.society.societyName:"My")+" Flats"}constructor(e,t,n){this.societyService=e,this.route=t,this.router=n,this.flatMembers=[]}ngOnInit(){this.societyId=this.route.snapshot.paramMap.get("id"),this.societyId&&this.loadSociety(this.societyId),this.loadMyFlats(this.societyId)}loadSociety(e){this.societyService.getSociety(e).pipe(p(1)).subscribe({next:t=>{this.society=t}})}loadMyFlats(e){this.societyService.myFlats(e).pipe(p(1)).subscribe({next:t=>{this.flatMembers=t.data??[]}})}getflat(e){return typeof e.flatId=="string"?void 0:e.flatId}hasBuilding(e){let t=this.getflat(e);return!(!t||!t.buildingId||typeof t.buildingId=="string")}getBuilding(e){let t=this.getflat(e);return!t||!t.buildingId||typeof t.buildingId=="string"?void 0:t.buildingId}getSociety(e){return typeof e.societyId=="string"?void 0:e.societyId}gotoFlatDetails(e){this.router.navigate(["/myflats","details",e._id])}static{this.\u0275fac=function(t){return new(t||i)(d(S),d(b),d(_))}}static{this.\u0275cmp=C({type:i,selectors:[["app-my-flat-list"]],decls:3,vars:3,consts:[[3,"hideMoreActions","title"],[4,"ngFor","ngForOf"],[3,"smColumns","mdColumns","lgColumns"],["card-main",""],[1,"flat-name",3,"click"],[1,"flat-meta"],["class","flat-meta",4,"ngIf"],[1,"flat-address"],["card-icon",""]],template:function(t,n){t&1&&(s(0,"app-layout",0)(1,"ui-form-layout"),T(2,it,18,9,"ng-container",1),a()()),t&2&&(l("hideMoreActions",!0)("title",n.pageTitle),o(2),l("ngForOf",n.flatMembers))},dependencies:[k,U,x,I,z,F],styles:[".flat-name[_ngcontent-%COMP%]{color:#0b4da0;font-weight:600;text-decoration:none;line-height:1.2}.flat-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.flat-meta[_ngcontent-%COMP%]{display:flex;gap:18px;color:#000;opacity:.85}@media (max-width: 767px){.flat-meta[_ngcontent-%COMP%]{gap:12px;flex-wrap:wrap}}.flat-address[_ngcontent-%COMP%]{color:#4c4545;line-height:1.4;max-width:520px}@media (min-width: 992px){.flat-address[_ngcontent-%COMP%]{max-width:680px}}"]})}}return i})();var nt=()=>({id:"",label:"Society"}),ot=()=>({id:"",label:"Flat Number"}),lt=()=>({id:"",label:"Residing"}),at=()=>({id:"",label:"Flat Type"}),K=(()=>{class i{get pageTitle(){return this.flatMember&&typeof this.flatMember.flatId!="string"?this.flatMember.flatId.floor+":"+this.flatMember.flatId.flatNumber:""}constructor(e,t,n){this.route=e,this.router=t,this.societyService=n}ngOnInit(){this.flatMemberId=this.route.snapshot.paramMap.get("flatMemberId"),this.flatMemberId||this.router.navigateByUrl("/myflats"),this.loadFlatMember(this.flatMemberId)}loadFlatMember(e){this.societyService.getFlatMemberDetails(e).pipe(p(1)).subscribe({next:t=>{this.flatMember=t}})}getflat(){return typeof this.flatMember?.flatId=="string"?void 0:this.flatMember?.flatId}getSociety(){return typeof this.flatMember?.societyId=="string"?void 0:this.flatMember?.societyId}static{this.\u0275fac=function(t){return new(t||i)(d(b),d(_),d(S))}}static{this.\u0275cmp=C({type:i,selectors:[["app-flat-details"]],decls:8,vars:32,consts:[[3,"hideMoreActions","title"],[1,"flex","flex-end",3,"smColumns","mdColumns","lgColumns"],["label","Complaints",3,"smColumns","mdColumns","lgColumns"],[3,"valueText","config","smColumns","mdColumns","lgColumns"]],template:function(t,n){if(t&1&&(s(0,"app-layout",0)(1,"ui-form-layout")(2,"section",1),w(3,"ui-button",2),a(),w(4,"ui-label",3)(5,"ui-label",3)(6,"ui-label",3)(7,"ui-label",3),a()()),t&2){let r,c,O;l("hideMoreActions",!0)("title",n.pageTitle),o(2),l("smColumns",12)("mdColumns",12)("lgColumns",12),o(),l("smColumns",1)("mdColumns",1)("lgColumns",1),o(),l("valueText",(r=n.getSociety())==null?null:r.societyName)("config",g(28,nt))("smColumns",12)("mdColumns",6)("lgColumns",3),o(),l("valueText",(c=n.getflat())==null?null:c.flatNumber)("config",g(29,ot))("smColumns",12)("mdColumns",6)("lgColumns",3),o(),l("valueText",n.flatMember==null?null:n.flatMember.residingType)("config",g(30,lt))("smColumns",12)("mdColumns",6)("lgColumns",3),o(),l("valueText",(O=n.getflat())==null?null:O.flatType)("config",g(31,at))("smColumns",12)("mdColumns",6)("lgColumns",3)}},dependencies:[x,I,$,q,F]})}}return i})();var rt=[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:N},{path:":id/list",component:N},{path:"details/:flatMemberId",component:K}],Q=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=h({type:i})}static{this.\u0275inj=y({imports:[D.forChild(rt),D]})}}return i})();var Dt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=h({type:i})}static{this.\u0275inj=y({imports:[V,Q,J,H,G]})}}return i})();export{Dt as FlatModule};
